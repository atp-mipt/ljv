= Lightweight Java Visualizer
:imagesdir: images

link:https://search.maven.org/artifact/org.atp-fivt/ljv/1.0/jar[Maven Central]



== Getting started

Simple example
[source, java]
----
String graph = new LJV().drawGraph("Hello");
----
`Graph` contains the generated graphviz object structure, which we pass to `drawGraph ()`
[source, graphviz]
----
digraph Java {
    rankdir="TB";
    node[shape=plaintext]
    n1[label=<
        <table border='0' cellborder='1' cellspacing='0'>
            <tr>
                <td colspan='2'>java.lang.String</td>
            </tr>
            <tr>
                <td>coder: 0</td>
                <td>hash: 0</td>
            </tr>
        </table>
    >];
    n2[label=<
        <table border='0' cellborder='1' cellspacing='0'>
            <tr>
                <td>72</td>
                <td>101</td>
                <td>108</td>
                <td>108</td>
                <td>111</td>
            </tr>
        </table>
    >];
    n1 -> n2[label="value",fontsize=12];
}
----
The resulting string can be uploaded to link:https://dreampuf.github.io/GraphvizOnline/[online services]
for GraphViz and visualized like this:

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.lang.String</td>
			</tr>
			<tr>
				<td>coder: 0</td>
			</tr>
			<tr>
				<td>hash: 0</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>72</td>
				<td>101</td>
				<td>108</td>
				<td>108</td>
				<td>111</td>
			</tr>
		</table>
	>];
	n1 -> n2[label="value",fontsize=12];
}

----

This is what a string in Java 8 looked like:

[graphviz]
--
digraph Java {
    rankdir="TB";
    node[shape=plaintext]
    n1[label=<
        <table border='0' cellborder='1' cellspacing='0'>
            <tr>
                <td colspan='1'>java.lang.String</td>
            </tr>
            <tr>
                <td>hash: 0</td>
            </tr>
        </table>
    >];
    n2[label=<
        <table border='0' cellborder='1' cellspacing='0'>
            <tr>
                <td>H</td>
                <td>e</td>
                <td>l</td>
                <td>l</td>
                <td>o</td>
            </tr>
        </table>
    >];
    n1 -> n2[label="value",fontsize=12];
}
--

== Customization

LJV has the ability to customize the view of the graph.

For example, you can specify a string as a primitive type:
[source,java]
----
String graph = new LJV()
        .setTreatAsPrimitive(String.class)
        .drawGraph(
                new Object[]{new String[]{"a", "b", "c"}, new int[]{1, 2, 3}}
        );
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0' cellpadding='9'>
			<tr>
				<td port="f0"></td>
				<td port="f1"></td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>a</td>
				<td>b</td>
				<td>c</td>
			</tr>
		</table>
	>];
	n1:f0 -> n2[label="0",fontsize=12];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>1</td>
				<td>2</td>
				<td>3</td>
			</tr>
		</table>
	>];
	n1:f1 -> n3[label="1",fontsize=12];
}

----

You can also flip the structure:
[source, java]
----
ArrayList<Object> a = new ArrayList<>();
        a.add(new Person("Albert", true, 35));
        a.add(new Person("Betty", false, 20));
        a.add(new java.awt.Point(100, -100));

String graph = new LJV()
        .setTreatAsPrimitive(String.class)
        .setDirection(Direction.LR) # <1>
        .drawGraph(a);
----
* Direction - this is enum with 4 types:
** TB - by default, draws from top to bottom
** BT - draws from bottom to top
** LR - draws from left to right
** RL - draws from right to left

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.ArrayList</td>
			</tr>
			<tr>
				<td>size: 3</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0' cellpadding='9'>
			<tr>
				<td port="f0"></td>
				<td port="f1"></td>
				<td port="f2"></td>
				<td port="f3"></td>
				<td port="f4"></td>
				<td port="f5"></td>
				<td port="f6"></td>
				<td port="f7"></td>
				<td port="f8"></td>
				<td port="f9"></td>
			</tr>
		</table>
	>];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>Person</td>
			</tr>
			<tr>
				<td>name: Albert</td>
			</tr>
			<tr>
				<td>gender: MALE</td>
			</tr>
			<tr>
				<td>age: 35</td>
			</tr>
		</table>
	>];
	n2:f0 -> n3[label="0",fontsize=12];
	n4[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>Person</td>
			</tr>
			<tr>
				<td>name: Betty</td>
			</tr>
			<tr>
				<td>gender: FEMALE</td>
			</tr>
			<tr>
				<td>age: 20</td>
			</tr>
		</table>
	>];
	n2:f1 -> n4[label="1",fontsize=12];
	n5[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.awt.Point</td>
			</tr>
			<tr>
				<td>x: 100</td>
			</tr>
			<tr>
				<td>y: -100</td>
			</tr>
		</table>
	>];
	n2:f2 -> n5[label="2",fontsize=12];
	n1 -> n2[label="elementData",fontsize=12];
}

----

It is also possible to paint the components of the graph in certain colors
[source, java]
----
Node n1 = new Node("A");
n1.level = 1;
AnotherNode n2 = new AnotherNode("B");
n2.level = 2;
AnotherNode n3 = new AnotherNode("C");
n3.level = 2;

n1.left = n2;
n1.right = n3;
n1.right.left = n1;
n1.right.right = n1;

String graph = new LJV()
    .addFieldAttribute("left", "color=red,fontcolor=red")
    .addFieldAttribute("right", "color=blue,fontcolor=blue")
    .addClassAttribute(Node.class, "color=pink,style=filled")
    .addIgnoreField("level")
    .addIgnoreField("ok")
    .setTreatAsPrimitive(String.class)
    .setShowFieldNamesInLabels(false)
    .drawGraph(n1);
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>Node</td>
			</tr>
			<tr>
				<td>A</td>
			</tr>
		</table>
	>,color=pink,style=filled];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>AnotherNode</td>
			</tr>
			<tr>
				<td>B</td>
			</tr>
			<tr>
				<td>null</td>
			</tr>
			<tr>
				<td>null</td>
			</tr>
		</table>
	>];
	n1 -> n2[label="left",fontsize=12,color=red,fontcolor=red];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>AnotherNode</td>
			</tr>
			<tr>
				<td>C</td>
			</tr>
		</table>
	>];
	n3 -> n1[label="left",fontsize=12,color=red,fontcolor=red];
	n3 -> n1[label="right",fontsize=12,color=blue,fontcolor=blue];
	n1 -> n3[label="right",fontsize=12,color=blue,fontcolor=blue];
}

----

== String interning

[source,java]
----
String x = "Hello";
String y = x;
String graph = new LJV().drawGraph(new Object[]{x, y});
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0' cellpadding='9'>
			<tr>
				<td port="f0"></td>
				<td port="f1"></td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.lang.String</td>
			</tr>
			<tr>
				<td>coder: 0</td>
			</tr>
			<tr>
				<td>hash: 0</td>
			</tr>
		</table>
	>];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>72</td>
				<td>101</td>
				<td>108</td>
				<td>108</td>
				<td>111</td>
			</tr>
		</table>
	>];
	n2 -> n3[label="value",fontsize=12];
	n1:f0 -> n2[label="0",fontsize=12];
	n1:f1 -> n2[label="1",fontsize=12];
}

----

[source,java]
----
String x = "Hello";
String y = new String(x);
String graph1 = new LJV().drawGraph(new Object[]{x, y});
String graph2 = new LJV().drawGraph(new Object[]{x, y.intern()});
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0' cellpadding='9'>
			<tr>
				<td port="f0"></td>
				<td port="f1"></td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.lang.String</td>
			</tr>
			<tr>
				<td>coder: 0</td>
			</tr>
			<tr>
				<td>hash: 0</td>
			</tr>
		</table>
	>];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>72</td>
				<td>101</td>
				<td>108</td>
				<td>108</td>
				<td>111</td>
			</tr>
		</table>
	>];
	n2 -> n3[label="value",fontsize=12];
	n1:f0 -> n2[label="0",fontsize=12];
	n4[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.lang.String</td>
			</tr>
			<tr>
				<td>coder: 0</td>
			</tr>
			<tr>
				<td>hash: 0</td>
			</tr>
		</table>
	>];
	n4 -> n3[label="value",fontsize=12];
	n1:f1 -> n4[label="1",fontsize=12];
}

----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0' cellpadding='9'>
			<tr>
				<td port="f0"></td>
				<td port="f1"></td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.lang.String</td>
			</tr>
			<tr>
				<td>coder: 0</td>
			</tr>
			<tr>
				<td>hash: 0</td>
			</tr>
		</table>
	>];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>72</td>
				<td>101</td>
				<td>108</td>
				<td>108</td>
				<td>111</td>
			</tr>
		</table>
	>];
	n2 -> n3[label="value",fontsize=12];
	n1:f0 -> n2[label="0",fontsize=12];
	n1:f1 -> n2[label="1",fontsize=12];
}

----

== Wrapped object caching

[source,java]
----
public class Example {
    private Integer i1 = 42;
    private Integer i2 = 42;
    private Integer i3 = 2020;
    private Integer i4 = 2020;
}
----

[source,java]
----
String graph = new LJV().drawGraph(new Example());
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>Example</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.lang.Integer</td>
			</tr>
			<tr>
				<td>value: 42</td>
			</tr>
		</table>
	>];
	n1 -> n2[label="i1",fontsize=12];
	n1 -> n2[label="i2",fontsize=12];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.lang.Integer</td>
			</tr>
			<tr>
				<td>value: 2020</td>
			</tr>
		</table>
	>];
	n1 -> n3[label="i3",fontsize=12];
	n4[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.lang.Integer</td>
			</tr>
			<tr>
				<td>value: 2020</td>
			</tr>
		</table>
	>];
	n1 -> n4[label="i4",fontsize=12];
}

----

== ArrayDeque

[source,java]
----
ArrayDeque<Integer> arrayDeque = new ArrayDeque<>();

String graph = new LJV().drawGraph(arrayDeque);
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.ArrayDeque</td>
			</tr>
			<tr>
				<td>head: 0</td>
			</tr>
			<tr>
				<td>tail: 2</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
			</tr>
		</table>
	>];
	n1 -> n2[label="elements",fontsize=12];
}

----

[source,java]
----
ArrayDeque<Integer> arrayDeque = new ArrayDeque<>();
arrayDeque.addLast(1);
arrayDeque.addLast(2);

String graph = new LJV()
        .setTreatAsPrimitive(Integer.class)
        .drawGraph(arrayDeque);
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.ArrayDeque</td>
			</tr>
			<tr>
				<td>head: 0</td>
			</tr>
			<tr>
				<td>tail: 2</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>1</td>
				<td>2</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
			</tr>
		</table>
	>];
	n1 -> n2[label="elements",fontsize=12];
}

----

[source,java]
----
ArrayDeque<Integer> arrayDeque = new ArrayDeque<>();
for (int i = 0; i < 20; i++) {
    arrayDeque.addLast(i);
}

String graph = new LJV()
        .setTreatAsPrimitive(Integer.class)
        .drawGraph(arrayDeque);
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.ArrayDeque</td>
			</tr>
			<tr>
				<td>head: 18</td>
			</tr>
			<tr>
				<td>tail: 4</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>16</td>
				<td>17</td>
				<td>18</td>
				<td>19</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>0</td>
				<td>1</td>
				<td>2</td>
				<td>3</td>
				<td>4</td>
				<td>5</td>
				<td>6</td>
				<td>7</td>
				<td>8</td>
				<td>9</td>
				<td>10</td>
				<td>11</td>
				<td>12</td>
				<td>13</td>
				<td>14</td>
				<td>15</td>
			</tr>
		</table>
	>];
	n1 -> n2[label="elements",fontsize=12];
}

----

[source,java]
----
ArrayDeque<Integer> arrayDeque = new ArrayDeque<>();
for (int i = 0; i < 20; i++) {
    arrayDeque.addLast(i);
}
for (int i = 0; i < 18; i++) {
    arrayDeque.removeFirst();
}

String graph = new LJV()
        .setTreatAsPrimitive(Integer.class)
        .drawGraph(arrayDeque);
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.ArrayDeque</td>
			</tr>
			<tr>
				<td>head: 2</td>
			</tr>
			<tr>
				<td>tail: 4</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>null</td>
				<td>null</td>
				<td>18</td>
				<td>19</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
				<td>null</td>
			</tr>
		</table>
	>];
	n1 -> n2[label="elements",fontsize=12];
}

----

== LinkedList

[source, java]
----
LinkedList<Integer> linkedList = new LinkedList<>();
linkedList.add(1);
linkedList.add(42);
linkedList.add(21);

String graph = new LJV()
        .setTreatAsPrimitive(Integer.class)
        .addFieldAttribute("next", "color=red,fontcolor=red")
        .addFieldAttribute("prev", "color=blue,fontcolor=blue")
        .addFieldAttribute("first", "color=red,fontcolor=red")
        .addFieldAttribute("last", "color=red,fontcolor=red")
        .drawGraph(linkedList);
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.LinkedList</td>
			</tr>
			<tr>
				<td>size: 3</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.LinkedList$Node</td>
			</tr>
			<tr>
				<td>item: 1</td>
			</tr>
			<tr>
				<td>prev: null</td>
			</tr>
		</table>
	>];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.LinkedList$Node</td>
			</tr>
			<tr>
				<td>item: 42</td>
			</tr>
		</table>
	>];
	n4[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.LinkedList$Node</td>
			</tr>
			<tr>
				<td>item: 21</td>
			</tr>
			<tr>
				<td>next: null</td>
			</tr>
		</table>
	>];
	n4 -> n3[label="prev",fontsize=12,color=blue,fontcolor=blue];
	n3 -> n4[label="next",fontsize=12,color=red,fontcolor=red];
	n3 -> n2[label="prev",fontsize=12,color=blue,fontcolor=blue];
	n2 -> n3[label="next",fontsize=12,color=red,fontcolor=red];
	n1 -> n2[label="first",fontsize=12,color=red,fontcolor=red];
	n1 -> n4[label="last",fontsize=12,color=red,fontcolor=red];
}

----

== HashMap

[source,java]
----
HashMap<String, Integer> map = new HashMap<>();
map.put("one", 1);
map.put("two", 2);
map.put("three", 3);
map.put("four", 4);

String graph = new LJV()
        .setTreatAsPrimitive(Integer.class)
        .setTreatAsPrimitive(String.class)
        .drawGraph(map);
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='6'>java.util.HashMap</td>
			</tr>
			<tr>
				<td>entrySet: null</td>
			</tr>
			<tr>
				<td>size: 4</td>
			</tr>
			<tr>
				<td>modCount: 4</td>
			</tr>
			<tr>
				<td>threshold: 12</td>
			</tr>
			<tr>
				<td>loadFactor: 0.75</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0' cellpadding='9'>
			<tr>
				<td port="f0"></td>
				<td port="f1"></td>
				<td port="f2"></td>
				<td port="f3"></td>
				<td port="f4"></td>
				<td port="f5"></td>
				<td port="f6"></td>
				<td port="f7"></td>
				<td port="f8"></td>
				<td port="f9"></td>
				<td port="f10"></td>
				<td port="f11"></td>
				<td port="f12"></td>
				<td port="f13"></td>
				<td port="f14"></td>
				<td port="f15"></td>
			</tr>
		</table>
	>];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='5'>java.util.HashMap$Node</td>
			</tr>
			<tr>
				<td>hash: 3149078</td>
			</tr>
			<tr>
				<td>key: four</td>
			</tr>
			<tr>
				<td>value: 4</td>
			</tr>
			<tr>
				<td>next: null</td>
			</tr>
		</table>
	>];
	n2:f6 -> n3[label="6",fontsize=12];
	n4[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='5'>java.util.HashMap$Node</td>
			</tr>
			<tr>
				<td>hash: 110183</td>
			</tr>
			<tr>
				<td>key: one</td>
			</tr>
			<tr>
				<td>value: 1</td>
			</tr>
			<tr>
				<td>next: null</td>
			</tr>
		</table>
	>];
	n2:f7 -> n4[label="7",fontsize=12];
	n5[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$Node</td>
			</tr>
			<tr>
				<td>hash: 115277</td>
			</tr>
			<tr>
				<td>key: two</td>
			</tr>
			<tr>
				<td>value: 2</td>
			</tr>
		</table>
	>];
	n6[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='5'>java.util.HashMap$Node</td>
			</tr>
			<tr>
				<td>hash: 110338829</td>
			</tr>
			<tr>
				<td>key: three</td>
			</tr>
			<tr>
				<td>value: 3</td>
			</tr>
			<tr>
				<td>next: null</td>
			</tr>
		</table>
	>];
	n5 -> n6[label="next",fontsize=12];
	n2:f13 -> n5[label="13",fontsize=12];
	n1 -> n2[label="table",fontsize=12];
}
----

=== Collision...

[source,java]
----
List<String> collisionString = new HashCodeCollision().genCollisionString(3);
HashMap<String, Integer> map = new HashMap<>();

for (int i = 0; i < collisionString.size(); i++) {
    map.put(collisionString.get(i), i);
}

String graph = new LJV()
        .setTreatAsPrimitive(Integer.class)
        .setTreatAsPrimitive(String.class)
        .drawGraph(map);
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='6'>java.util.HashMap</td>
			</tr>
			<tr>
				<td>entrySet: null</td>
			</tr>
			<tr>
				<td>size: 3</td>
			</tr>
			<tr>
				<td>modCount: 3</td>
			</tr>
			<tr>
				<td>threshold: 12</td>
			</tr>
			<tr>
				<td>loadFactor: 0.75</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0' cellpadding='9'>
			<tr>
				<td port="f0"></td>
				<td port="f1"></td>
				<td port="f2"></td>
				<td port="f3"></td>
				<td port="f4"></td>
				<td port="f5"></td>
				<td port="f6"></td>
				<td port="f7"></td>
				<td port="f8"></td>
				<td port="f9"></td>
				<td port="f10"></td>
				<td port="f11"></td>
				<td port="f12"></td>
				<td port="f13"></td>
				<td port="f14"></td>
				<td port="f15"></td>
			</tr>
		</table>
	>];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$Node</td>
			</tr>
			<tr>
				<td>hash: 96320</td>
			</tr>
			<tr>
				<td>key: aaa</td>
			</tr>
			<tr>
				<td>value: 0</td>
			</tr>
		</table>
	>];
	n4[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$Node</td>
			</tr>
			<tr>
				<td>hash: 96320</td>
			</tr>
			<tr>
				<td>key: abB</td>
			</tr>
			<tr>
				<td>value: 1</td>
			</tr>
		</table>
	>];
	n5[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='5'>java.util.HashMap$Node</td>
			</tr>
			<tr>
				<td>hash: 96320</td>
			</tr>
			<tr>
				<td>key: bBa</td>
			</tr>
			<tr>
				<td>value: 2</td>
			</tr>
			<tr>
				<td>next: null</td>
			</tr>
		</table>
	>];
	n4 -> n5[label="next",fontsize=12];
	n3 -> n4[label="next",fontsize=12];
	n2:f0 -> n3[label="0",fontsize=12];
	n1 -> n2[label="table",fontsize=12];
}

----

=== Collision with 13 elements and tree map

[source, java]
----
List<String> collisionString = new HashCodeCollision().genCollisionString(6);
HashMap<String, Integer> map = new HashMap<>();

for (int i = 0; i < collisionString.size(); i++) {
    map.put(collisionString.get(i), i);
}

String graph = new LJV()
        .setTreatAsPrimitive(String.class)
        .setTreatAsPrimitive(Integer.class)
        .drawGraph(map);
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='6'>java.util.HashMap</td>
			</tr>
			<tr>
				<td>entrySet: null</td>
			</tr>
			<tr>
				<td>size: 13</td>
			</tr>
			<tr>
				<td>modCount: 13</td>
			</tr>
			<tr>
				<td>threshold: 48</td>
			</tr>
			<tr>
				<td>loadFactor: 0.75</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0' cellpadding='9'>
			<tr>
				<td port="f0"></td>
				<td port="f1"></td>
				<td port="f2"></td>
				<td port="f3"></td>
				<td port="f4"></td>
				<td port="f5"></td>
				<td port="f6"></td>
				<td port="f7"></td>
				<td port="f8"></td>
				<td port="f9"></td>
				<td port="f10"></td>
				<td port="f11"></td>
				<td port="f12"></td>
				<td port="f13"></td>
				<td port="f14"></td>
				<td port="f15"></td>
				<td port="f16"></td>
				<td port="f17"></td>
				<td port="f18"></td>
				<td port="f19"></td>
				<td port="f20"></td>
				<td port="f21"></td>
				<td port="f22"></td>
				<td port="f23"></td>
				<td port="f24"></td>
				<td port="f25"></td>
				<td port="f26"></td>
				<td port="f27"></td>
				<td port="f28"></td>
				<td port="f29"></td>
				<td port="f30"></td>
				<td port="f31"></td>
				<td port="f32"></td>
				<td port="f33"></td>
				<td port="f34"></td>
				<td port="f35"></td>
				<td port="f36"></td>
				<td port="f37"></td>
				<td port="f38"></td>
				<td port="f39"></td>
				<td port="f40"></td>
				<td port="f41"></td>
				<td port="f42"></td>
				<td port="f43"></td>
				<td port="f44"></td>
				<td port="f45"></td>
				<td port="f46"></td>
				<td port="f47"></td>
				<td port="f48"></td>
				<td port="f49"></td>
				<td port="f50"></td>
				<td port="f51"></td>
				<td port="f52"></td>
				<td port="f53"></td>
				<td port="f54"></td>
				<td port="f55"></td>
				<td port="f56"></td>
				<td port="f57"></td>
				<td port="f58"></td>
				<td port="f59"></td>
				<td port="f60"></td>
				<td port="f61"></td>
				<td port="f62"></td>
				<td port="f63"></td>
			</tr>
		</table>
	>];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>parent: null</td>
			</tr>
			<tr>
				<td>prev: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n4[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n4 -> n3[label="parent",fontsize=12];
	n5[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n5 -> n4[label="parent",fontsize=12];
	n5 -> n3[label="prev",fontsize=12];
	n4 -> n5[label="left",fontsize=12];
	n6[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n6 -> n4[label="parent",fontsize=12];
	n6 -> n4[label="prev",fontsize=12];
	n4 -> n6[label="right",fontsize=12];
	n4 -> n5[label="prev",fontsize=12];
	n3 -> n4[label="left",fontsize=12];
	n7[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n7 -> n3[label="parent",fontsize=12];
	n8[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: true</td>
			</tr>
		</table>
	>];
	n8 -> n7[label="parent",fontsize=12];
	n9[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n9 -> n8[label="parent",fontsize=12];
	n9 -> n6[label="prev",fontsize=12];
	n8 -> n9[label="left",fontsize=12];
	n10[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n10 -> n8[label="parent",fontsize=12];
	n10 -> n8[label="prev",fontsize=12];
	n8 -> n10[label="right",fontsize=12];
	n8 -> n9[label="prev",fontsize=12];
	n7 -> n8[label="left",fontsize=12];
	n11[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: true</td>
			</tr>
		</table>
	>];
	n11 -> n7[label="parent",fontsize=12];
	n12[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n12 -> n11[label="parent",fontsize=12];
	n12 -> n7[label="prev",fontsize=12];
	n11 -> n12[label="left",fontsize=12];
	n13[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n13 -> n11[label="parent",fontsize=12];
	n14[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: true</td>
			</tr>
		</table>
	>];
	n14 -> n13[label="parent",fontsize=12];
	n14 -> n11[label="prev",fontsize=12];
	n13 -> n14[label="left",fontsize=12];
	n15[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: true</td>
			</tr>
		</table>
	>];
	n15 -> n13[label="parent",fontsize=12];
	n15 -> n13[label="prev",fontsize=12];
	n13 -> n15[label="right",fontsize=12];
	n13 -> n14[label="prev",fontsize=12];
	n11 -> n13[label="right",fontsize=12];
	n11 -> n12[label="prev",fontsize=12];
	n7 -> n11[label="right",fontsize=12];
	n7 -> n10[label="prev",fontsize=12];
	n3 -> n7[label="right",fontsize=12];
	n2:f27 -> n3[label="27",fontsize=12];
	n1 -> n2[label="table",fontsize=12];
}

----

=== Hash collision for god of hash collision

[source, java]
----
List<String> collisionString = new HashCodeCollision().genCollisionString(8);
HashMap<String, Integer> map = new HashMap<>();

for (int i = 0; i < collisionString.size(); i++) {
    map.put(collisionString.get(i), i);
}

String graph = new LJV()
        .setTreatAsPrimitive(String.class)
        .setTreatAsPrimitive(Integer.class)
        .drawGraph(map);
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='6'>java.util.HashMap</td>
			</tr>
			<tr>
				<td>entrySet: null</td>
			</tr>
			<tr>
				<td>size: 34</td>
			</tr>
			<tr>
				<td>modCount: 34</td>
			</tr>
			<tr>
				<td>threshold: 48</td>
			</tr>
			<tr>
				<td>loadFactor: 0.75</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0' cellpadding='9'>
			<tr>
				<td port="f0"></td>
				<td port="f1"></td>
				<td port="f2"></td>
				<td port="f3"></td>
				<td port="f4"></td>
				<td port="f5"></td>
				<td port="f6"></td>
				<td port="f7"></td>
				<td port="f8"></td>
				<td port="f9"></td>
				<td port="f10"></td>
				<td port="f11"></td>
				<td port="f12"></td>
				<td port="f13"></td>
				<td port="f14"></td>
				<td port="f15"></td>
				<td port="f16"></td>
				<td port="f17"></td>
				<td port="f18"></td>
				<td port="f19"></td>
				<td port="f20"></td>
				<td port="f21"></td>
				<td port="f22"></td>
				<td port="f23"></td>
				<td port="f24"></td>
				<td port="f25"></td>
				<td port="f26"></td>
				<td port="f27"></td>
				<td port="f28"></td>
				<td port="f29"></td>
				<td port="f30"></td>
				<td port="f31"></td>
				<td port="f32"></td>
				<td port="f33"></td>
				<td port="f34"></td>
				<td port="f35"></td>
				<td port="f36"></td>
				<td port="f37"></td>
				<td port="f38"></td>
				<td port="f39"></td>
				<td port="f40"></td>
				<td port="f41"></td>
				<td port="f42"></td>
				<td port="f43"></td>
				<td port="f44"></td>
				<td port="f45"></td>
				<td port="f46"></td>
				<td port="f47"></td>
				<td port="f48"></td>
				<td port="f49"></td>
				<td port="f50"></td>
				<td port="f51"></td>
				<td port="f52"></td>
				<td port="f53"></td>
				<td port="f54"></td>
				<td port="f55"></td>
				<td port="f56"></td>
				<td port="f57"></td>
				<td port="f58"></td>
				<td port="f59"></td>
				<td port="f60"></td>
				<td port="f61"></td>
				<td port="f62"></td>
				<td port="f63"></td>
			</tr>
		</table>
	>];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>parent: null</td>
			</tr>
			<tr>
				<td>prev: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n4[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n4 -> n3[label="parent",fontsize=12];
	n5[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n5 -> n4[label="parent",fontsize=12];
	n6[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n6 -> n5[label="parent",fontsize=12];
	n6 -> n4[label="prev",fontsize=12];
	n5 -> n6[label="left",fontsize=12];
	n7[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n7 -> n5[label="parent",fontsize=12];
	n7 -> n5[label="prev",fontsize=12];
	n5 -> n7[label="right",fontsize=12];
	n5 -> n6[label="prev",fontsize=12];
	n4 -> n5[label="left",fontsize=12];
	n8[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n8 -> n4[label="parent",fontsize=12];
	n9[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n9 -> n8[label="parent",fontsize=12];
	n9 -> n7[label="prev",fontsize=12];
	n8 -> n9[label="left",fontsize=12];
	n10[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n10 -> n8[label="parent",fontsize=12];
	n10 -> n8[label="prev",fontsize=12];
	n8 -> n10[label="right",fontsize=12];
	n8 -> n9[label="prev",fontsize=12];
	n4 -> n8[label="right",fontsize=12];
	n4 -> n3[label="prev",fontsize=12];
	n3 -> n4[label="left",fontsize=12];
	n11[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: true</td>
			</tr>
		</table>
	>];
	n11 -> n3[label="parent",fontsize=12];
	n12[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n12 -> n11[label="parent",fontsize=12];
	n13[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n13 -> n12[label="parent",fontsize=12];
	n14[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n14 -> n13[label="parent",fontsize=12];
	n14 -> n10[label="prev",fontsize=12];
	n13 -> n14[label="left",fontsize=12];
	n15[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n15 -> n13[label="parent",fontsize=12];
	n15 -> n13[label="prev",fontsize=12];
	n13 -> n15[label="right",fontsize=12];
	n13 -> n14[label="prev",fontsize=12];
	n12 -> n13[label="left",fontsize=12];
	n16[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n16 -> n12[label="parent",fontsize=12];
	n17[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n17 -> n16[label="parent",fontsize=12];
	n17 -> n12[label="prev",fontsize=12];
	n16 -> n17[label="left",fontsize=12];
	n18[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n18 -> n16[label="parent",fontsize=12];
	n18 -> n16[label="prev",fontsize=12];
	n16 -> n18[label="right",fontsize=12];
	n16 -> n17[label="prev",fontsize=12];
	n12 -> n16[label="right",fontsize=12];
	n12 -> n15[label="prev",fontsize=12];
	n11 -> n12[label="left",fontsize=12];
	n19[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n19 -> n11[label="parent",fontsize=12];
	n20[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: true</td>
			</tr>
		</table>
	>];
	n20 -> n19[label="parent",fontsize=12];
	n21[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n21 -> n20[label="parent",fontsize=12];
	n22[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n22 -> n21[label="parent",fontsize=12];
	n22 -> n11[label="prev",fontsize=12];
	n21 -> n22[label="left",fontsize=12];
	n23[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n23 -> n21[label="parent",fontsize=12];
	n23 -> n21[label="prev",fontsize=12];
	n21 -> n23[label="right",fontsize=12];
	n21 -> n22[label="prev",fontsize=12];
	n20 -> n21[label="left",fontsize=12];
	n24[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n24 -> n20[label="parent",fontsize=12];
	n25[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n25 -> n24[label="parent",fontsize=12];
	n25 -> n20[label="prev",fontsize=12];
	n24 -> n25[label="left",fontsize=12];
	n26[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n26 -> n24[label="parent",fontsize=12];
	n26 -> n24[label="prev",fontsize=12];
	n24 -> n26[label="right",fontsize=12];
	n24 -> n25[label="prev",fontsize=12];
	n20 -> n24[label="right",fontsize=12];
	n20 -> n23[label="prev",fontsize=12];
	n19 -> n20[label="left",fontsize=12];
	n27[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: true</td>
			</tr>
		</table>
	>];
	n27 -> n19[label="parent",fontsize=12];
	n28[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n28 -> n27[label="parent",fontsize=12];
	n29[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n29 -> n28[label="parent",fontsize=12];
	n29 -> n19[label="prev",fontsize=12];
	n28 -> n29[label="left",fontsize=12];
	n30[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n30 -> n28[label="parent",fontsize=12];
	n30 -> n28[label="prev",fontsize=12];
	n28 -> n30[label="right",fontsize=12];
	n28 -> n29[label="prev",fontsize=12];
	n27 -> n28[label="left",fontsize=12];
	n31[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n31 -> n27[label="parent",fontsize=12];
	n32[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n32 -> n31[label="parent",fontsize=12];
	n32 -> n27[label="prev",fontsize=12];
	n31 -> n32[label="left",fontsize=12];
	n33[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>red: true</td>
			</tr>
		</table>
	>];
	n33 -> n31[label="parent",fontsize=12];
	n34[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n34 -> n33[label="parent",fontsize=12];
	n34 -> n31[label="prev",fontsize=12];
	n33 -> n34[label="left",fontsize=12];
	n35[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>red: false</td>
			</tr>
		</table>
	>];
	n35 -> n33[label="parent",fontsize=12];
	n36[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.HashMap$TreeNode</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>red: true</td>
			</tr>
		</table>
	>];
	n36 -> n35[label="parent",fontsize=12];
	n36 -> n35[label="prev",fontsize=12];
	n35 -> n36[label="right",fontsize=12];
	n35 -> n33[label="prev",fontsize=12];
	n33 -> n35[label="right",fontsize=12];
	n33 -> n34[label="prev",fontsize=12];
	n31 -> n33[label="right",fontsize=12];
	n31 -> n32[label="prev",fontsize=12];
	n27 -> n31[label="right",fontsize=12];
	n27 -> n30[label="prev",fontsize=12];
	n19 -> n27[label="right",fontsize=12];
	n19 -> n26[label="prev",fontsize=12];
	n11 -> n19[label="right",fontsize=12];
	n11 -> n18[label="prev",fontsize=12];
	n3 -> n11[label="right",fontsize=12];
	n2:f15 -> n3[label="15",fontsize=12];
	n1 -> n2[label="table",fontsize=12];
}
----

== Treemap
[source, java]
----
TreeMap<String, Integer> map = new TreeMap<>();

map.put("one", 1);
map.put("two", 2);
map.put("three", 3);
map.put("four", 4);

String actualGraph = new LJV()
        .setTreatAsPrimitive(Integer.class)
        .setTreatAsPrimitive(String.class)
        .drawGraph(map);
----

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='7'>java.util.TreeMap</td>
			</tr>
			<tr>
				<td>comparator: null</td>
			</tr>
			<tr>
				<td>size: 4</td>
			</tr>
			<tr>
				<td>modCount: 4</td>
			</tr>
			<tr>
				<td>entrySet: null</td>
			</tr>
			<tr>
				<td>navigableKeySet: null</td>
			</tr>
			<tr>
				<td>descendingMap: null</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='5'>java.util.TreeMap$Entry</td>
			</tr>
			<tr>
				<td>key: three</td>
			</tr>
			<tr>
				<td>value: 3</td>
			</tr>
			<tr>
				<td>parent: null</td>
			</tr>
			<tr>
				<td>color: true</td>
			</tr>
		</table>
	>];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='5'>java.util.TreeMap$Entry</td>
			</tr>
			<tr>
				<td>key: one</td>
			</tr>
			<tr>
				<td>value: 1</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>color: true</td>
			</tr>
		</table>
	>];
	n4[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='6'>java.util.TreeMap$Entry</td>
			</tr>
			<tr>
				<td>key: four</td>
			</tr>
			<tr>
				<td>value: 4</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>color: false</td>
			</tr>
		</table>
	>];
	n4 -> n3[label="parent",fontsize=12];
	n3 -> n4[label="left",fontsize=12];
	n3 -> n2[label="parent",fontsize=12];
	n2 -> n3[label="left",fontsize=12];
	n5[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='6'>java.util.TreeMap$Entry</td>
			</tr>
			<tr>
				<td>key: two</td>
			</tr>
			<tr>
				<td>value: 2</td>
			</tr>
			<tr>
				<td>left: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
			<tr>
				<td>color: true</td>
			</tr>
		</table>
	>];
	n5 -> n2[label="parent",fontsize=12];
	n2 -> n5[label="right",fontsize=12];
	n1 -> n2[label="root",fontsize=12];
}

----

== ConcurrentSkipListMap
[source, java]
----
ConcurrentSkipListMap<String, Integer> map = new ConcurrentSkipListMap<>();

map.put("one", 1);
map.put("two", 2);
map.put("three", 3);
map.put("four", 4);

String actualGraph = new LJV()
        .setTreatAsPrimitive(Integer.class)
        .setTreatAsPrimitive(String.class)
        .drawGraph(map);
----

=== First start

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='6'>java.util.concurrent.ConcurrentSkipListMap</td>
			</tr>
			<tr>
				<td>comparator: null</td>
			</tr>
			<tr>
				<td>keySet: null</td>
			</tr>
			<tr>
				<td>values: null</td>
			</tr>
			<tr>
				<td>entrySet: null</td>
			</tr>
			<tr>
				<td>descendingMap: null</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>java.util.concurrent.ConcurrentSkipListMap$Index</td>
			</tr>
		</table>
	>];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.concurrent.ConcurrentSkipListMap$Node</td>
			</tr>
			<tr>
				<td>key: null</td>
			</tr>
			<tr>
				<td>val: null</td>
			</tr>
		</table>
	>];
	n4[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.concurrent.ConcurrentSkipListMap$Node</td>
			</tr>
			<tr>
				<td>key: four</td>
			</tr>
			<tr>
				<td>val: 4</td>
			</tr>
		</table>
	>];
	n5[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.concurrent.ConcurrentSkipListMap$Node</td>
			</tr>
			<tr>
				<td>key: one</td>
			</tr>
			<tr>
				<td>val: 1</td>
			</tr>
		</table>
	>];
	n6[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.concurrent.ConcurrentSkipListMap$Node</td>
			</tr>
			<tr>
				<td>key: three</td>
			</tr>
			<tr>
				<td>val: 3</td>
			</tr>
		</table>
	>];
	n7[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.concurrent.ConcurrentSkipListMap$Node</td>
			</tr>
			<tr>
				<td>key: two</td>
			</tr>
			<tr>
				<td>val: 2</td>
			</tr>
			<tr>
				<td>next: null</td>
			</tr>
		</table>
	>];
	n6 -> n7[label="next",fontsize=12];
	n5 -> n6[label="next",fontsize=12];
	n4 -> n5[label="next",fontsize=12];
	n3 -> n4[label="next",fontsize=12];
	n2 -> n3[label="node",fontsize=12];
	n8[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>java.util.concurrent.ConcurrentSkipListMap$Index</td>
			</tr>
		</table>
	>];
	n8 -> n3[label="node",fontsize=12];
	n9[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.concurrent.ConcurrentSkipListMap$Index</td>
			</tr>
			<tr>
				<td>down: null</td>
			</tr>
		</table>
	>];
	n9 -> n3[label="node",fontsize=12];
	n10[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.concurrent.ConcurrentSkipListMap$Index</td>
			</tr>
			<tr>
				<td>down: null</td>
			</tr>
		</table>
	>];
	n10 -> n4[label="node",fontsize=12];
	n11[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.concurrent.ConcurrentSkipListMap$Index</td>
			</tr>
			<tr>
				<td>down: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
		</table>
	>];
	n11 -> n6[label="node",fontsize=12];
	n10 -> n11[label="right",fontsize=12];
	n9 -> n10[label="right",fontsize=12];
	n8 -> n9[label="down",fontsize=12];
	n12[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>java.util.concurrent.ConcurrentSkipListMap$Index</td>
			</tr>
		</table>
	>];
	n12 -> n4[label="node",fontsize=12];
	n12 -> n10[label="down",fontsize=12];
	n13[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.concurrent.ConcurrentSkipListMap$Index</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
		</table>
	>];
	n13 -> n6[label="node",fontsize=12];
	n13 -> n11[label="down",fontsize=12];
	n12 -> n13[label="right",fontsize=12];
	n8 -> n12[label="right",fontsize=12];
	n2 -> n8[label="down",fontsize=12];
	n14[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.concurrent.ConcurrentSkipListMap$Index</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
		</table>
	>];
	n14 -> n4[label="node",fontsize=12];
	n14 -> n12[label="down",fontsize=12];
	n2 -> n14[label="right",fontsize=12];
	n1 -> n2[label="head",fontsize=12];
	n15[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>4</td>
			</tr>
		</table>
	>];
	n1 -> n15[label="adder",fontsize=12];
}
----

=== Second start

[graphviz]
----
digraph Java {
	rankdir="TB";
	node[shape=plaintext]
	n1[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='6'>java.util.concurrent.ConcurrentSkipListMap</td>
			</tr>
			<tr>
				<td>comparator: null</td>
			</tr>
			<tr>
				<td>keySet: null</td>
			</tr>
			<tr>
				<td>values: null</td>
			</tr>
			<tr>
				<td>entrySet: null</td>
			</tr>
			<tr>
				<td>descendingMap: null</td>
			</tr>
		</table>
	>];
	n2[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='2'>java.util.concurrent.ConcurrentSkipListMap$Index</td>
			</tr>
			<tr>
				<td>down: null</td>
			</tr>
		</table>
	>];
	n3[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.concurrent.ConcurrentSkipListMap$Node</td>
			</tr>
			<tr>
				<td>key: null</td>
			</tr>
			<tr>
				<td>val: null</td>
			</tr>
		</table>
	>];
	n4[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.concurrent.ConcurrentSkipListMap$Node</td>
			</tr>
			<tr>
				<td>key: four</td>
			</tr>
			<tr>
				<td>val: 4</td>
			</tr>
		</table>
	>];
	n5[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.concurrent.ConcurrentSkipListMap$Node</td>
			</tr>
			<tr>
				<td>key: one</td>
			</tr>
			<tr>
				<td>val: 1</td>
			</tr>
		</table>
	>];
	n6[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.concurrent.ConcurrentSkipListMap$Node</td>
			</tr>
			<tr>
				<td>key: three</td>
			</tr>
			<tr>
				<td>val: 3</td>
			</tr>
		</table>
	>];
	n7[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='4'>java.util.concurrent.ConcurrentSkipListMap$Node</td>
			</tr>
			<tr>
				<td>key: two</td>
			</tr>
			<tr>
				<td>val: 2</td>
			</tr>
			<tr>
				<td>next: null</td>
			</tr>
		</table>
	>];
	n6 -> n7[label="next",fontsize=12];
	n5 -> n6[label="next",fontsize=12];
	n4 -> n5[label="next",fontsize=12];
	n3 -> n4[label="next",fontsize=12];
	n2 -> n3[label="node",fontsize=12];
	n8[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td rowspan='3'>java.util.concurrent.ConcurrentSkipListMap$Index</td>
			</tr>
			<tr>
				<td>down: null</td>
			</tr>
			<tr>
				<td>right: null</td>
			</tr>
		</table>
	>];
	n8 -> n4[label="node",fontsize=12];
	n2 -> n8[label="right",fontsize=12];
	n1 -> n2[label="head",fontsize=12];
	n9[label=<
		<table border='0' cellborder='1' cellspacing='0'>
			<tr>
				<td>4</td>
			</tr>
		</table>
	>];
	n1 -> n9[label="adder",fontsize=12];
}
----